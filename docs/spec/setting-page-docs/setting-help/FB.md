# ヘルプ（外部 Notion）— フロントエンド仕様書 v0 / BE引き継ぎ v0

## 目的
- アプリから Notion 公開のヘルプセンターへシンプルに案内する。
- ページ埋め込みや重い実装は行わず、SEO/検索は Notion 側に委譲する。

## 画面 / 導線（必要最小限）
1) グローバル導線（ヘッダー右上）
   - ラベル: 「ヘルプ」
   - 動作: 新規タブで外部URLを開く（target="_blank" rel="noopener"）

2) /help リダイレクト
   - ルート `/help` にアクセス → 302 で外部URLへリダイレクト
   - 目的: 将来、内製ヘルプに切替える余地を残しつつ現状は外部運用

3) コンテキストヘルプ（任意・後回し可）
   - 各ページの「？」アイコンから該当記事へ深リンク
   - v0 では未実装でも可（必要なら Connections / Users / Run Logs に1箇所ずつ）

## 環境変数
- `HELP_CENTER_URL`（例: https://help.yourdomain.com または Notion 公開URL）

## ルーティング（Next.js App Router）
- `/help` … server component で `redirect(process.env.HELP_CENTER_URL!)`
- ヘッダーの［ヘルプ］ … `href={HELP_CENTER_URL}` を新規タブで開く

## やらない宣言（無駄排除）
- アプリ内FAQモーダル: 不要
- ヘルプ記事の埋め込み表示（iframe/MDX）: 不要
- アプリ内検索（ヘルプ用）: 不要（Notion 側で検索）
- SSO連携/記事権限管理: 不要（公開運用）
- イベント計測: v0 では不要（必要になれば追加）

## 受け入れ基準（DoD）
- ヘッダーの［ヘルプ］から外部ヘルプが新規タブで開く
- `/help` に直接アクセスすると外部ヘルプへ即リダイレクト
- `.env` の `HELP_CENTER_URL` を変更すればノーコードで差し替え可能

---

# バックエンド引き継ぎ書（v0）

## 目的
- v0 ではサーバー側実装は最小。ヘルプは外部運用のため API なし。

## 必要作業
1) 環境変数提供
   - `HELP_CENTER_URL` を本番／ステージングに設定
   - 任意: 独自ドメインを用意（例: `help.yourdomain.com` → Notion 公開サイトへ CNAME）

2) Next.js 側のリダイレクト
   - `/app/help/page.tsx`（server）で `redirect(process.env.HELP_CENTER_URL!)` を実装
   - 302/307 どちらでも可（既定 302 でOK）

## やらない一覧
- ヘルプ用のDB／API／CMS連携 → 不要
- 記事のキャッシュ／ミラー → 不要
- 記事アクセスの監査ログ → 不要（外部に委譲）

## 将来拡張（必要になったら）
- ヘルプ導線のクリック計測（フロントのみで可）
- 各画面の「？」から記事に深リンク（スラッグ管理）
- 内製ヘルプへの切替: `/help` のリダイレクトを外し、MDX/静的ページを用意

## まとめ（最小構成）
- やること: ヘッダーの［ヘルプ］リンク、`/help` → 外部リダイレクト、`HELP_CENTER_URL` 環境変数の3点のみ。
- やらないこと: FAQモーダル、記事埋め込み、検索、計測、API 等。
- これでユーザーは迷わずヘルプへ到達し、運用側はノーコードで更新可能。


